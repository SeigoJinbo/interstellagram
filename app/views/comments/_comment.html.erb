<%# ------------------------REFERENCE------------------------ %>
<% if false %>
	<% unless comment.parent_id || !comment.persisted? %>
		<div class="card">
			<div class="card-body">
				<%= comment.user.user_name %>
				<%= comment.content %>
				<p><%= comment.likes.count %> <%= (comment.likes.count) == 1 ? 'Like' : 'Likes'%></p>
				<% pre_like = comment.likes.find { |comment| comment.user_id == current_user.id} %>
				<% if pre_like %>
					<%= button_to 'Unlike', comment_like_path(comment, pre_like), method: :delete %>
				<% else %>
					<%= button_to 'Like', comment_likes_path(comment), method: :post %>
				<% end %>
				<%= link_to 'reply', new_post_comment_path(comment.post, parent_id: comment.id), remote: true, class: 'd-block' %>
				<%= link_to 'delete', [comment.post, comment], method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger mr-2' %>
			</div>
		</div>
		<% if comment.replies.any? %>
			<% comment.replies.each do |reply| %>
				<%= render partial: 'comments/reply', locals: { reply: reply } %>
			<% end %>
		<% end %>
		<div id="reply-form-<%= comment.id %>"></div>
	<% end %>
<% end %>

<%# ------------------------COMMENTS------------------------ %>
<% unless comment.parent_id || !comment.persisted? %>
	<div class="card">
		<div class="card-body">
			<%= comment.user.user_name %>
			<%= comment.content %>
			<p><%= comment.likes.count %> <%= (comment.likes.count) == 1 ? 'Like' : 'Likes'%></p>
			<% pre_like = comment.likes.find { |comment| comment.user_id == current_user.id} %>
			<% if pre_like %>
				<%= button_to 'Unlike', comment_like_path(comment, pre_like), method: :delete %>
			<% else %>
				<%= button_to 'Like', comment_likes_path(comment), method: :post %>
			<% end %>
			<%= link_to 'reply', new_post_comment_path(comment.post, parent_id: comment.id), remote: true, class: 'd-block' %>
			<%= link_to 'delete', [comment.post, comment], method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger mr-2' %>
		</div>
	</div>
	<% if comment.replies.any? %>
		<% comment.replies.each do |reply| %>
			<%= render partial: 'comments/reply', locals: { reply: reply } %>
		<% end %>
	<% end %>
	<div id="reply-form-<%= comment.id %>"></div>
<% end %>
